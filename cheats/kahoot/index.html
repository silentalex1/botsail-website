<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kahoot Cheat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        :root {
            --primary: #1E90FF;
            --primary-hover: #1C86EE;
            --accent: #4682B4;
            --accent-hover: #4169E1;
            --secondary: #6495ED;
            --secondary-hover: #5D8AA8;
            --tertiary: #87CEEB;
            --tertiary-hover: #B0C4DE;
            --text: #E6F0FA;
            --bg-dark: #0D1B2A;
            --bg-light: #1B263B;
            --glass-bg: rgba(13, 27, 42, 0.92);
            --shadow: 0 6px 25px rgba(0, 0, 0, 0.5);
            --glow: 0 0 10px rgba(30, 144, 255, 0.5);
            --navbar-bg: rgba(13, 27, 42, 0.96);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            font-family: 'Inter', sans-serif;
            color: var(--text);
            background: linear-gradient(160deg, var(--bg-dark), var(--bg-light));
            overflow-x: hidden;
            transition: background 0.8s ease;
        }

        .navbar {
            background: var(--navbar-bg);
            backdrop-filter: blur(12px);
            padding: 0.7rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 50;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
        }

        .navbar-brand {
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            font-weight: 600;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 0.4rem;
            margin-left: 0.8rem;
        }

        .nav-links {
            display: flex;
            gap: 0.6rem;
            margin-right: 0.8rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-size: clamp(0.85rem, 1.5vw, 0.95rem);
            padding: 0.3rem 0.8rem;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.06);
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
        }

        .nav-links a:hover {
            background: var(--primary);
            transform: translateY(-1px) scale(1.01);
            box-shadow: 0 1px 6px rgba(30, 144, 255, 0.3);
        }

        .container {
            position: relative;
            min-height: calc(100vh - 50px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3;
            padding: 70px 1rem 1rem;
        }

        .cheat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border-radius: 12px;
            padding: clamp(0.8rem, 2vw, 1.2rem);
            width: min(90%, 400px);
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .cheat-card:hover {
            transform: translateZ(15px) scale(1.01);
            box-shadow: 0 8px 30px rgba(30, 144, 255, 0.6);
        }

        .cheat-card img {
            width: 50px;
            height: 50px;
            margin-bottom: 0.8rem;
        }

        .cheat-card h2 {
            font-size: clamp(1.2rem, 2.2vw, 1.4rem);
            margin: 0 0 0.8rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: clamp(0.8rem, 2vw, 1.2rem);
            width: 100%;
            align-items: center;
        }

        .pin-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(30, 144, 255, 0.3);
            border-radius: 8px;
            padding: clamp(0.4rem, 1vw, 0.6rem)
            clamp(0.8rem, 1.5vw, 1rem);
            color: var(--text);
            font-size: clamp(0.85rem, 1.5vw, 0.95rem);
            outline: none;
            transition: all 0.2s ease;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1), var(--glow);
            width: 90%;
            margin: 0 auto;
            font-weight: 400;
        }

        .pin-input:focus {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: var(--glow), inset 0 1px 2px rgba(30, 144, 255, 0.1);
            transform: scale(1.005);
            border-color: var(--primary-hover);
        }

        .pin-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
            font-weight: 300;
        }

        .activate-button {
            background: var(--primary);
            border: none;
            border-radius: 8px;
            padding: clamp(0.3rem, 1vw, 0.5rem) clamp(0.6rem, 1.5vw, 0.8rem);
            color: white;
            font-weight: 500;
            font-size: clamp(0.75rem, 1.4vw, 0.85rem);
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 3px 10px rgba(30, 144, 255, 0.3);
            width: 90%;
            margin: 0 auto;
        }

        .activate-button:hover {
            background: var(--primary-hover);
            transform: translateY(-1px) scale(1.01);
            box-shadow: 0 4px 12px rgba(30, 144, 255, 0.5);
        }

        .cheat-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border-radius: 12px;
            padding: clamp(0.6rem, 1.5vw, 0.8rem);
            margin-top: 1rem;
            width: 90%;
            display: none;
            flex-direction: column;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .cheat-panel.active {
            display: flex;
        }

        .cheat-panel label {
            font-size: clamp(0.85rem, 1.5vw, 0.95rem);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cheat-panel input[type="checkbox"] {
            margin: 0;
            transform: scale(1.2);
        }

        .error-message {
            color: var(--primary);
            background: rgba(30, 144, 255, 0.2);
            padding: clamp(0.3rem, 1vw, 0.5rem);
            border-radius: 6px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: clamp(0.75rem, 1.4vw, 0.85rem);
            box-shadow: 0 1px 6px rgba(30, 144, 255, 0.3);
            width: 90%;
            margin: 0 auto;
        }

        .error-message.show {
            opacity: 1;
        }

        @media (max-width: 600px) {
            .navbar {
                flex-direction: column;
                padding: 0.4rem;
                gap: 0.4rem;
            }

            .nav-links {
                justify-content: center;
                margin-right: 0;
            }

            .cheat-card {
                padding: 0.6rem;
            }
        }

        @media (min-width: 1200px) {
            .cheat-card {
                width: 450px;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-brand">
            <i class="fas fa-skull-crossbones"></i> EduBypass
        </div>
        <div class="nav-links">
            <a href="https://edubypass.it.com/"><i class="fas fa-home"></i> Home</a>
            <a href="/cheats"><i class="fas fa-code"></i> Cheats</a>
            <a href="/about"><i class="fas fa-info-circle"></i> About</a>
            <a href="/contact"><i class="fas fa-envelope"></i> Contact</a>
        </div>
    </nav>
    <div class="container">
        <div class="cheat-card">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4d/Kahoot_Logo.svg/1280px-Kahoot_Logo.svg.png" alt="Kahoot">
            <h2>Kahoot Cheat</h2>
            <div class="input-group">
                <input type="text" class="pin-input" id="gamePin" placeholder="Enter Kahoot Game PIN">
                <button class="activate-button" id="activateButton">Activate Cheat</button>
                <div class="error-message" id="errorMessage"></div>
                <div class="cheat-panel" id="cheatPanel">
                    <label>Auto-Answer: <input type="checkbox" id="autoAnswer"></label>
                    <label>Highlight Correct: <input type="checkbox" id="highlightCorrect"></label>
                    <label>Skip Timer: <input type="checkbox" id="skipTimer"></label>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        class KahootCheat {
            constructor() {
                this.gamePinInput = document.getElementById('gamePin');
                this.activateButton = document.getElementById('activateButton');
                this.errorMessage = document.getElementById('errorMessage');
                this.cheatPanel = document.getElementById('cheatPanel');
                this.autoAnswerToggle = document.getElementById('autoAnswer');
                this.highlightCorrectToggle = document.getElementById('highlightCorrect');
                this.skipTimerToggle = document.getElementById('skipTimer');
                this.proxyChain = [
                    { url: 'https://corsproxy.io/?', headers: { 'X-Origin-Auth': btoa('secure1' + Date.now()), 'X-Proxy-Key': btoa(Math.random().toString(36)), 'Cache-Control': 'no-store' }, timeout: 6000, retry: 3 },
                    { url: 'https://api.allorigins.win/raw?url=', headers: { 'X-Custom-Token': btoa('secure2' + Math.random()), 'X-Proxy-Key': btoa(Math.random().toString(36)), 'Cache-Control': 'no-store' }, timeout: 5500, retry: 3 },
                    { url: 'https://proxy.custom/api/v1/', headers: { 'X-Session-Id': btoa(Date.now() + Math.random()), 'X-Proxy-Key': btoa(Math.random().toString(36)), 'Cache-Control': 'no-store' }, timeout: 5000, retry: 2 },
                    { url: 'https://mirrorproxy.net/process?', headers: { 'X-Secure-Token': btoa('secure4' + Date.now()), 'X-Proxy-Key': btoa(Math.random().toString(36)), 'Cache-Control': 'no-store' }, timeout: 4500, retry: 2 }
                ];
                this.initEventListeners();
                this.initAnimations();
            }

            initEventListeners() {
                this.activateButton.addEventListener('click', () => this.handleActivateCheat());
                this.autoAnswerToggle.addEventListener('change', (e) => this.handleAutoAnswer(e.target.checked));
                this.highlightCorrectToggle.addEventListener('change', (e) => this.handleHighlightCorrect(e.target.checked));
                this.skipTimerToggle.addEventListener('change', (e) => this.handleSkipTimer(e.target.checked));
            }

            initAnimations() {
                gsap.from('.navbar', { duration: 0.7, y: -40, opacity: 0, ease: 'power2.out' });
                gsap.from('.cheat-card', { duration: 0.9, y: 40, opacity: 0, ease: 'power2.out' });
                gsap.from('.pin-input', { duration: 0.7, delay: 0.1, x: -40, opacity: 0, ease: 'power2.out' });
                gsap.from('.activate-button', { duration: 0.7, delay: 0.2, x: 40, opacity: 0, ease: 'power2.out' });
            }

            showError(message) {
                this.errorMessage.textContent = message;
                this.errorMessage.classList.add('show');
                gsap.to(this.errorMessage, { opacity: 1, duration: 0.3, ease: 'power2.out' });
                setTimeout(() => {
                    gsap.to(this.errorMessage, { opacity: 0, duration: 0.3, ease: 'power2.in', onComplete: () => this.errorMessage.classList.remove('show') });
                }, 2500);
            }

            fetchWithRetry(url, options, timeout, retries) {
                return new Promise((resolve, reject) => {
                    const controller = new AbortController();
                    const id = setTimeout(() => controller.abort(), timeout);
                    fetch(url, { ...options, signal: controller.signal, credentials: 'omit', cache: 'no-store' })
                        .then(response => resolve(response))
                        .catch(err => {
                            if (retries > 0) {
                                const proxy = this.proxyChain[Math.floor(Math.random() * this.proxyChain.length)];
                                this.fetchWithRetry(url, { ...options, headers: proxy.headers }, proxy.timeout, retries - 1)
                                    .then(resolve).catch(reject);
                            } else {
                                reject(err);
                            }
                        })
                        .finally(() => clearTimeout(id));
                });
            }

            handleActivateCheat() {
                const gamePin = this.gamePinInput.value.trim();
                if (!gamePin || !/^\d{6,8}$/.test(gamePin)) {
                    this.showError('Enter a valid Kahoot game PIN (6-8 digits).');
                    return;
                }

                const proxy = this.proxyChain[Math.floor(Math.random() * this.proxyChain.length)];
                const kahootUrl = `https://kahoot.it/gameblock?gameId=${gamePin}`;
                this.fetchWithRetry(`${proxy.url}${encodeURIComponent(kahootUrl)}`, { mode: 'cors', headers: proxy.headers }, proxy.timeout, proxy.retry)
                    .then(response => response.text())
                    .then(data => {
                        if (data.includes('gameblock')) {
                            this.cheatPanel.classList.add('active');
                            this.showError('Cheat activated! Load Kahoot in a new tab.');
                            this.loadCheatScript(gamePin);
                        } else {
                            this.showError('Invalid game PIN or game not found.');
                        }
                    })
                    .catch(() => this.showError('Failed to connect to Kahoot. Try again.'));
            }

            loadCheatScript(gamePin) {
                const newWindow = window.open(`https://kahoot.it/?pin=${gamePin}`, '_blank', 'width=1000,height=700,noopener');
                if (!newWindow) {
                    this.showError('Pop-up blocked. Allow pop-ups to proceed.');
                    return;
                }

                const script = newWindow.document.createElement('script');
                script.textContent = `
                    let questions = [];
                    let autoAnswerActive = false;
                    let highlightCorrectActive = false;
                    let skipTimerActive = false;
                    const gamePin = '${gamePin}';
                    const fetchQuestions = () => {
                        fetch('https://kahoot.it/rest/kahoots/${gamePin}')
                            .then(res => res.json())
                            .then(data => {
                                questions = data.questions;
                                const observer = new MutationObserver(() => {
                                    const gameSession = JSON.parse(localStorage.getItem('kahoot-game_session') || '{}');
                                    const currentQuestion = gameSession.questionNumber || 0;
                                    const choices = questions[currentQuestion]?.choices || [];
                                    let correctIndex = -1;
                                    for (let i = 0; i < choices.length; i++) {
                                        if (choices[i].correct) {
                                            correctIndex = i;
                                            break;
                                        }
                                    }
                                    if (highlightCorrectActive && correctIndex !== -1) {
                                        const answerElement = document.querySelector('[data-functional-selector="answer-' + correctIndex + '"]');
                                        if (answerElement) {
                                            answerElement.style.backgroundColor = '#1E90FF';
                                            answerElement.style.borderRadius = '15px';
                                        }
                                    }
                                    if (autoAnswerActive && correctIndex !== -1) {
                                        const answerElement = document.querySelector('[data-functional-selector="answer-' + correctIndex + '"]');
                                        if (answerElement && !answerElement.classList.contains('selected')) {
                                            answerElement.click();
                                        }
                                    }
                                    if (skipTimerActive) {
                                        const timerElement = document.querySelector('.timer-bar');
                                        if (timerElement) timerElement.style.transitionDuration = '0s';
                                    }
                                });
                                observer.observe(document.body, { childList: true, subtree: true });
                            })
                            .catch(() => console.log('Error fetching questions.'));
                    };
                    fetchQuestions();
                    document.querySelector('.options-panel')?.insertAdjacentHTML('beforeend', \`
                        <div style="margin-top: 15px;">
                            <label style="color: #E6F0FA; font-size: 16px;">Auto-Answer: <input type="checkbox" id="autoAnswerControl" style="margin-left: 10px;"></label>
                            <label style="color: #E6F0FA; font-size: 16px;">Highlight Correct: <input type="checkbox" id="highlightCorrectControl" style="margin-left: 10px;"></label>
                            <label style="color: #E6F0FA; font-size: 16px;">Skip Timer: <input type="checkbox" id="skipTimerControl" style="margin-left: 10px;"></label>
                        </div>
                    \`);
                    document.getElementById('autoAnswerControl').addEventListener('change', (e) => {
                        autoAnswerActive = e.target.checked;
                        fetchQuestions();
                    });
                    document.getElementById('highlightCorrectControl').addEventListener('change', (e) => {
                        highlightCorrectActive = e.target.checked;
                        fetchQuestions();
                    });
                    document.getElementById('skipTimerControl').addEventListener('change', (e) => {
                        skipTimerActive = e.target.checked;
                        fetchQuestions();
                    });
                `;
                newWindow.document.head.appendChild(script);
            }

            handleAutoAnswer(enabled) {
                if (enabled) {
                    this.showError('Auto-answer enabled. Answers will be selected automatically.');
                } else {
                    this.showError('Auto-answer disabled.');
                }
            }

            handleHighlightCorrect(enabled) {
                if (enabled) {
                    this.showError('Highlight correct enabled. Correct answers will be highlighted.');
                } else {
                    this.showError('Highlight correct disabled.');
                }
            }

            handleSkipTimer(enabled) {
                if (enabled) {
                    this.showError('Skip timer enabled. Timers will be bypassed.');
                } else {
                    this.showError('Skip timer disabled.');
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => new KahootCheat());
    </script>
</body>
</html>
